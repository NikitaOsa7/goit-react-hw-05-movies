{"version":3,"file":"static/js/797.155b8f2c.chunk.js","mappings":"gNAGe,SAASA,EAAT,GAAuC,IAAdC,EAAa,EAAbA,MAAOC,EAAM,EAANA,GAE3C,GAAyCC,EAAAA,EAAAA,MAAzC,eAAOC,EAAP,UAEA,OACI,yBACI,SAAC,KAAD,CACIC,GAAE,0CAAqCH,GACvCI,MAAO,CACHC,UAAUC,EAAAA,EAAAA,MAAcC,SACxBC,OAAQN,EAAaO,IAAI,UAJjC,SAOKV,MCbF,SAASW,EAAT,GAAgC,IAAXC,EAAU,EAAVA,OAChC,OACI,wBACKA,EAAOC,KAAI,gBAAGZ,EAAH,EAAGA,GAAID,EAAP,EAAOA,MAAP,OACR,SAACD,EAAD,CAAwBC,MAAOA,EAAOC,GAAIA,GAAtBA,U,6JCArB,SAASa,IACpB,OAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwCF,EAAAA,EAAAA,UAAS,IAAjD,eAAOG,EAAP,KAAqBC,EAArB,KACA,GAAwCjB,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBiB,EAArB,KACMX,GAASF,EAAAA,EAAAA,MAAcF,OAASF,EAAaO,IAAI,SAYvD,SAASW,EAAcL,GACnB,GAAIA,EAAO,CACPI,EAAgB,SAAD,OAAUJ,IACzBG,EAAgB,IAChB,IACqBG,EAAAA,EAAAA,kBAAsBN,GAC9BO,MAAK,SAAAC,GACVA,EAAKA,KAAKC,QAAQZ,KAAI,gBAAGZ,EAAH,EAAGA,GAAID,EAAP,EAAOA,MAAP,OAClBmB,GAAgB,SAAAO,GAAC,wBAAQA,GAAR,CAAW,CAAEzB,GAAAA,EAAID,MAAAA,cAG7C,MAAM2B,OArBfC,EAAAA,EAAAA,YAAU,WACNnB,GAAUN,EAAa0B,IAAI,QAASpB,GACpCA,GAAUY,EAAcZ,KAEzB,KAEHmB,EAAAA,EAAAA,YAAU,WACNT,EAAgB,MACjB,CAACV,IAyBJ,OACI,6BACI,kBAAMqB,UAAWC,EAAAA,EAAAA,KAAQC,SAVZ,SAAAC,GACjBA,EAAEC,kBASE,WACI,kBAAOC,SAPE,SAAAF,GACjBhB,EAASgB,EAAEG,OAAOC,QAMqBA,MAAOrB,KACtC,mBAAQsB,QAAS,kBAAMjB,EAAcL,IAArC,uBAEqB,IAAxBE,EAAaqB,SAAgB,SAAC,IAAD,CAAW3B,OAAQM,S,mBCnD7D,KAAgB,KAAO","sources":["components/MoviesList/MoviesListItem/MoviesListItem.jsx","components/MoviesList/MoviesList.jsx","pages/MoviesPage.jsx","webpack://goit-react-hw-05-movies/./src/pages/MoviesPage.module.css?f2bc"],"sourcesContent":["import { Link, useLocation, useSearchParams } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function MovieListItem({ title, id }) {\r\n    \r\n    const [searchParams, _setSearchParams] = useSearchParams();\r\n\r\n    return (\r\n        <li>\r\n            <Link\r\n                to={`/goit-react-hw-05-movies/movies/${id}`}\r\n                state={{\r\n                    location: useLocation().pathname,\r\n                    search: searchParams.get('query'),\r\n                }}\r\n            >\r\n                {title}\r\n            </Link>\r\n        </li>\r\n    );\r\n};\r\n\r\nMovieListItem.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    id: PropTypes.number.isRequired,\r\n};\r\n\r\n","import MovieListItem from \"./MoviesListItem/MoviesListItem\";\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function MovieList({ movies }) {\r\n    return (\r\n        <ul>\r\n            {movies.map(({ id, title }) => (\r\n                <MovieListItem key={id} title={title} id={id} />\r\n            ))}\r\n        </ul>\r\n    );\r\n};\r\n\r\n\r\nMovieList.propTypes = {\r\n    movies: PropTypes.array.isRequired,\r\n};","import { useState, useEffect } from 'react';\r\nimport { useLocation, useSearchParams } from 'react-router-dom';\r\nimport MovieList from 'components/MoviesList/MoviesList';\r\nimport api from 'services/api';\r\nimport s from './MoviesPage.module.css'\r\n\r\n\r\nexport default function MoviesPage() {\r\n    const [query, setQuery] = useState('');\r\n    const [moviesSearch, setMoviesSearch] = useState([]);\r\n    const [searchParams, setSearchParams] = useSearchParams();\r\n    const search = useLocation().state || searchParams.get('query')\r\n\r\n    useEffect(() => {\r\n        search && searchParams.set('query', search);\r\n        search && onSearchClick(search);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setMoviesSearch([])\r\n    }, [search])\r\n    \r\n    function onSearchClick(query) {\r\n        if (query) {\r\n            setSearchParams(`query=${query}`);\r\n            setMoviesSearch([]);\r\n            try {\r\n                const response = api.fetchMovieByQuery(query);\r\n                response.then(data => {\r\n                    data.data.results.map(({ id, title }) =>\r\n                        setMoviesSearch(m => [...m, { id, title }])\r\n                    );\r\n                })\r\n            }catch(error){}\r\n        }\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n    };\r\n\r\n    const handleChange = e => {\r\n        setQuery(e.target.value);\r\n    };\r\n\r\n    return (\r\n        <main>\r\n            <form className={s.form} onSubmit={handleSubmit}>\r\n                <input onChange={handleChange} value={query} />\r\n                <button onClick={() => onSearchClick(query)}>Search</button>\r\n            </form>\r\n            {moviesSearch.length !== 0 && <MovieList movies={moviesSearch} />}\r\n        </main>\r\n    );\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MoviesPage_form__OqnPx\"};"],"names":["MovieListItem","title","id","useSearchParams","searchParams","to","state","location","useLocation","pathname","search","get","MovieList","movies","map","MoviesPage","useState","query","setQuery","moviesSearch","setMoviesSearch","setSearchParams","onSearchClick","api","then","data","results","m","error","useEffect","set","className","s","onSubmit","e","preventDefault","onChange","target","value","onClick","length"],"sourceRoot":""}